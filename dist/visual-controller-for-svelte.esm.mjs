import e from"ask-for-promise";class t{constructor(e={}){const t={};return{publish:this.publish(e,t),destroy:this.destroy(t),getApp:this.getApp(t),has:e=>!!t[e]}}publish(t,r){return function(n,o,s){const i=this.has(s),p=e();if(!n)return console.error("Error: Component is undefined"),p.done(!1),p.promise;i&&this.destroy(s);let d=document.getElementById(s),u=!1;if(!d)return console.error(`Can't find node with id: "${s}"`),p.done(!1),p.promise;""!==d.innerHTML.trim()&&(d.innerHTML="");let c=new n({target:d,props:{dependencies:t,setupUpdates:e=>u=e,...o}});return r[s]=c,r[s].updates=u||{},p.done(r[s].updates),p.promise}}destroy(e){return function(t){if(e[t]){return(0,e[t].$destroy)(),delete e[t],!0}return!1}}getApp(e){return function(t){const r=e[t];return r?r.updates:(console.error(`App with id: "${t}" was not found.`),!1)}}}export{t as default};
