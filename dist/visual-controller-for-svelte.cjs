"use strict";var e=require("ask-for-promise");module.exports=class{constructor(e={}){const r={};return{publish:this.publish(e,r),destroy:this.destroy(r),getApp:this.getApp(r),has:e=>!!r[e]}}publish(r,t){return function(n,s,o){const i=this.has(o),u=e();if(!n)return console.error("Error: Component is undefined"),u.done(!1),u.promise;i&&this.destroy(o);let d=document.getElementById(o),p=!1;if(!d)return console.error(`Can't find node with id: "${o}"`),u.done(!1),u.promise;""!==d.innerHTML.trim()&&(d.innerHTML="");let c=new n({target:d,props:{dependencies:r,setupUpdates:e=>p=e,...s}});return t[o]=c,t[o].updates=p||{},u.done(t[o].updates),u.promise}}destroy(e){return function(r){if(e[r]){return(0,e[r].$destroy)(),delete e[r],!0}return!1}}getApp(e){return function(r){const t=e[r];return t?t.updates:(console.error(`App with id: "${r}" was not found.`),!1)}}};
